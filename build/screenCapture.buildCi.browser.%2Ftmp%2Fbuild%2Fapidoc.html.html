<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="http://alexeypetrushin.github.com/synchronize">synchronize (v2.0.0)</a>
</h1>
<h4>Turns asynchronous function into synchronous</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize">module synchronize</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.synchronize">
            function <span class="apidocSignatureSpan"></span>synchronize
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber">
            function <span class="apidocSignatureSpan">synchronize.</span>Fiber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.reset">
            function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.run">
            function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.throwInto">
            function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.throwInto
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.asyncIt">
            function <span class="apidocSignatureSpan">synchronize.</span>asyncIt
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.await">
            function <span class="apidocSignatureSpan">synchronize.</span>await
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defer">
            function <span class="apidocSignatureSpan">synchronize.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferParallel">
            function <span class="apidocSignatureSpan">synchronize.</span>deferParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferSerial">
            function <span class="apidocSignatureSpan">synchronize.</span>deferSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferWithTimeout">
            function <span class="apidocSignatureSpan">synchronize.</span>deferWithTimeout
            <span class="apidocSignatureSpan">(timeout, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defers">
            function <span class="apidocSignatureSpan">synchronize.</span>defers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defersParallel">
            function <span class="apidocSignatureSpan">synchronize.</span>defersParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defersSerial">
            function <span class="apidocSignatureSpan">synchronize.</span>defersSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.fiber">
            function <span class="apidocSignatureSpan">synchronize.</span>fiber
            <span class="apidocSignatureSpan">(cb, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.parallel">
            function <span class="apidocSignatureSpan">synchronize.</span>parallel
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync">
            function <span class="apidocSignatureSpan">synchronize.</span>sync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.syncFn">
            function <span class="apidocSignatureSpan">synchronize.</span>syncFn
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.syncWithDebug">
            function <span class="apidocSignatureSpan">synchronize.</span>syncWithDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.toString">
            function <span class="apidocSignatureSpan">synchronize.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.Fiber">module synchronize.Fiber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.Fiber">
            function <span class="apidocSignatureSpan">synchronize.</span>Fiber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.yield">
            function <span class="apidocSignatureSpan">synchronize.Fiber.</span>yield
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">synchronize.Fiber.</span>fibersCreated</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">synchronize.Fiber.</span>poolSize</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.Fiber.prototype">module synchronize.Fiber.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.reset">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.run">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.throwInto">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>throwInto
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.Fiber.prototype.reset">module synchronize.Fiber.prototype.reset</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.reset.reset">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.Fiber.prototype.run">module synchronize.Fiber.prototype.run</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.run.run">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>run
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.Fiber.prototype.throwInto">module synchronize.Fiber.prototype.throwInto</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.Fiber.prototype.throwInto.throwInto">
            function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>throwInto
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.asyncIt">module synchronize.asyncIt</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.asyncIt.asyncIt">
            function <span class="apidocSignatureSpan">synchronize.</span>asyncIt
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.await">module synchronize.await</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.await.await">
            function <span class="apidocSignatureSpan">synchronize.</span>await
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.defer">module synchronize.defer</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defer.defer">
            function <span class="apidocSignatureSpan">synchronize.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.deferParallel">module synchronize.deferParallel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferParallel.deferParallel">
            function <span class="apidocSignatureSpan">synchronize.</span>deferParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.deferSerial">module synchronize.deferSerial</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferSerial.deferSerial">
            function <span class="apidocSignatureSpan">synchronize.</span>deferSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.deferWithTimeout">module synchronize.deferWithTimeout</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.deferWithTimeout.deferWithTimeout">
            function <span class="apidocSignatureSpan">synchronize.</span>deferWithTimeout
            <span class="apidocSignatureSpan">(timeout, message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.defers">module synchronize.defers</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defers.defers">
            function <span class="apidocSignatureSpan">synchronize.</span>defers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.defersParallel">module synchronize.defersParallel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defersParallel.defersParallel">
            function <span class="apidocSignatureSpan">synchronize.</span>defersParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.defersSerial">module synchronize.defersSerial</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.defersSerial.defersSerial">
            function <span class="apidocSignatureSpan">synchronize.</span>defersSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.fiber">module synchronize.fiber</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.fiber.fiber">
            function <span class="apidocSignatureSpan">synchronize.</span>fiber
            <span class="apidocSignatureSpan">(cb, done)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.parallel">module synchronize.parallel</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.parallel.parallel">
            function <span class="apidocSignatureSpan">synchronize.</span>parallel
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.sync">module synchronize.sync</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.sync">
            function <span class="apidocSignatureSpan">synchronize.</span>sync
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.Fiber">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>Fiber
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.asyncIt">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>asyncIt
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.await">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>await
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.defer">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>defer
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.deferParallel">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>deferParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.deferSerial">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>deferSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.deferWithTimeout">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>deferWithTimeout
            <span class="apidocSignatureSpan">(timeout, message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.defers">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>defers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.defersParallel">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>defersParallel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.defersSerial">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>defersSerial
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.fiber">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>fiber
            <span class="apidocSignatureSpan">(cb, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.parallel">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>parallel
            <span class="apidocSignatureSpan">(cb)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.syncFn">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>syncFn
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.sync.syncWithDebug">
            function <span class="apidocSignatureSpan">synchronize.sync.</span>syncWithDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.syncFn">module synchronize.syncFn</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.syncFn.syncFn">
            function <span class="apidocSignatureSpan">synchronize.</span>syncFn
            <span class="apidocSignatureSpan">(fn)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.syncWithDebug">module synchronize.syncWithDebug</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.syncWithDebug.syncWithDebug">
            function <span class="apidocSignatureSpan">synchronize.</span>syncWithDebug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.synchronize.toString">module synchronize.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.synchronize.toString.toString">
            function <span class="apidocSignatureSpan">synchronize.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize" id="apidoc.module.synchronize">module synchronize</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.synchronize" id="apidoc.element.synchronize.synchronize">
        function <span class="apidocSignatureSpan"></span>synchronize
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">synchronize = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      var fname = arguments[i]
      var fn = obj[fname]
      if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
      obj[fname] = sync(fn)
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber" id="apidoc.element.synchronize.Fiber">
        function <span class="apidocSignatureSpan">synchronize.</span>Fiber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Fiber() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.reset" id="apidoc.element.synchronize.Fiber.prototype.reset">
        function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.run" id="apidoc.element.synchronize.Fiber.prototype.run">
        function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.throwInto" id="apidoc.element.synchronize.Fiber.prototype.throwInto">
        function <span class="apidocSignatureSpan">synchronize.</span>Fiber.prototype.throwInto
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function throwInto() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.asyncIt" id="apidoc.element.synchronize.asyncIt">
        function <span class="apidocSignatureSpan">synchronize.</span>asyncIt
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asyncIt = function (cb){
  if(!cb) throw "no callback for async spec helper!"
  return function(done){sync.fiber(cb.bind(this), done)}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.await" id="apidoc.element.synchronize.await">
        function <span class="apidocSignatureSpan">synchronize.</span>await
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">await = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.defer" id="apidoc.element.synchronize.defer">
        function <span class="apidocSignatureSpan">synchronize.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defer = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.deferParallel()
  else return sync.deferSerial()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.deferParallel" id="apidoc.element.synchronize.deferParallel">
        function <span class="apidocSignatureSpan">synchronize.</span>deferParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel

  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  // Returning asynchronous callback.
  return function(err, result){
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      if(fiber._syncIsTerminated) return
      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if(err){
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        data.returned += 1
        data.results[resultIndex] = result
        // Resuming fiber and returning result when all callbacks finished.
        if(data.returned == data.called) fiber.run(data.results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.deferSerial" id="apidoc.element.synchronize.deferSerial">
        function <span class="apidocSignatureSpan">synchronize.</span>deferSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferSerial = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true
  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err, result){
    if (called) throw new Error("defer can't be used twice!")
    called = true

    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if(err){
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        // Resuming fiber and returning result.
        fiber.run(result)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.deferWithTimeout" id="apidoc.element.synchronize.deferWithTimeout">
        function <span class="apidocSignatureSpan">synchronize.</span>deferWithTimeout
        <span class="apidocSignatureSpan">(timeout, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferWithTimeout = function (timeout, message){
  if(!Fiber.current) throw new Error("no current Fiber, deferWithTimeout can't be used without Fiber!")
  if(!timeout) throw new Error("no timeout provided!")
  if(Fiber.current._syncParallel) throw new Error("deferWithTimeout can't be used in parallel!")

  var defer = this.defer()
  var error = new Error(message || "defer timed out!")
  var called = false
  var d = setTimeout(function(){
    if(called) return
    called = true
    defer(error)
  }, timeout)

  return function(){
    if(called) return
    called = true
    clearTimeout(d)
    return defer.apply(this, arguments)
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.defers" id="apidoc.element.synchronize.defers">
        function <span class="apidocSignatureSpan">synchronize.</span>defers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defers = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.defersParallel.apply(sync, arguments)
  else return sync.defersSerial.apply(sync, arguments)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.defersParallel" id="apidoc.element.synchronize.defersParallel">
        function <span class="apidocSignatureSpan">synchronize.</span>defersParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel
  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  var kwds = Array.prototype.slice.call(arguments)
  // Returning asynchronous callback.
  return function(err) {
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      if(fiber._syncIsTerminated) return

      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if (err) {
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }
      var results;
      if(!kwds.length){
        results = args
      } else {
        results = {}
        kwds.forEach(function(kwd, i){
          results[kwd]=args[i]
        })
      }
      data.returned += 1
      data.results[resultIndex] = results
      if(data.returned == data.called) fiber.run(data.results)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.defersSerial" id="apidoc.element.synchronize.defersSerial">
        function <span class="apidocSignatureSpan">synchronize.</span>defersSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersSerial = function (){
  var fiber = Fiber.current;
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true

  var kwds = Array.prototype.slice.call(arguments)

  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err) {
    if (called) throw new Error("defer can't be used twice!")
    called = true
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if (err) {
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      } else {
        var results;
        if(!kwds.length){
          results = args
        } else {
          results = {}
          kwds.forEach(function(kwd, i){
            results[kwd]=args[i]
          })
        }
        fiber.run(results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.fiber" id="apidoc.element.synchronize.fiber">
        function <span class="apidocSignatureSpan">synchronize.</span>fiber
        <span class="apidocSignatureSpan">(cb, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fiber = function (cb, done){
  var that = this
  var fiber = Fiber(function(){
    // Prevent restart fiber
    if (Fiber.current._started) return
    if (done) {
      var result
      try {
        result = cb.call(that)
        Fiber.current._syncIsTerminated = true
      } catch (error){
        return done(error)
      }
      done(null, result)
    } else {
      // Don't catch errors if done not provided!
      cb.call(that)
      Fiber.current._syncIsTerminated = true
    }
  })
  fiber.run()
  fiber._started = true
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.parallel" id="apidoc.element.synchronize.parallel">
        function <span class="apidocSignatureSpan">synchronize.</span>parallel
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallel = function (cb){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")

  // Enabling `defer` calls to be performed in parallel.
  // There's an important note - error in any parallel call will result in aborting
  // all of the parallel calls.
  fiber._syncParallel = {called: 0, returned: 0, results: [], errorHasBeenThrown: false}
  try{
    cb.call(this)
  }finally{
    // If neither `defer` nor `defers` were called within the callback, we need
    // to run the fiber ourselves or else the fiber will unwind when `await` is called.
    // This might happen if the user intended to enumerate an array within the
    // callback, calling `defer` once per array item, but the array was empty.
    if (!fiber._syncParallel.called) {
      nextTick(function(){
        // Return an empty array to represent that there were no results.
        if(!fiber._syncIsTerminated) fiber.run([])
      })
    }
    delete fiber._syncParallel
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync" id="apidoc.element.synchronize.sync">
        function <span class="apidocSignatureSpan">synchronize.</span>sync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sync = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      var fname = arguments[i]
      var fn = obj[fname]
      if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
      obj[fname] = sync(fn)
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.syncFn" id="apidoc.element.synchronize.syncFn">
        function <span class="apidocSignatureSpan">synchronize.</span>syncFn
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncFn = function (fn){
  // Preventing function to be synchronized twice.
  if(fn._synchronized) return fn

  var syncFn = function(){
    // Using fibers only if there's active fiber and callback not provided explicitly.
    if(Fiber.current &amp;&amp; (typeof arguments[arguments.length-1] !== 'function')){
      // Calling asynchronous function with our special fiber-aware callback.
      Array.prototype.push.call(arguments, sync.defer())
      fn.apply(this, arguments)

      // Waiting for asynchronous result.
      return sync.await()
    }else{
      // If there's no active fiber or callback provided explicitly we call original version.
      return fn.apply(this, arguments)
    }
  }

  // Marking function as synchronized.
  syncFn._synchronized = true

  return syncFn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.syncWithDebug" id="apidoc.element.synchronize.syncWithDebug">
        function <span class="apidocSignatureSpan">synchronize.</span>syncWithDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncWithDebug = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      (function(fname){
        var fn = obj[fname]
        if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
        var syncedFn = sync(fn)
        obj[fname] = function(){
          if(Fiber.current &amp;&amp; Fiber.current._fiberId === undefined){
            Fiber.current._fiberId = fiberIdCounter
            fiberIdCounter = fiberIdCounter + 1
            Fiber.current._callbackLevel = 0
          }

          var fiberId = '-'
          if(Fiber.current){
            fiberId = Fiber.current._fiberId
            Fiber.current._callbackLevel = Fiber.current._callbackLevel + 1
          }

          var indent = '    '
          if(Fiber.current)
            for(var j = 0; j &lt; Fiber.current._callbackLevel; j++) indent = indent + '  '

          console.log(fiberId + indent + this.constructor.name + '.' +
          fname + " called", JSON.stringify(arguments))

          var result
          try{
            result = syncedFn.apply(this, arguments)
          }finally{
            console.log(fiberId + indent + this.constructor.name + '.' +
            fname + " finished")

            if(Fiber.current)
              Fiber.current._callbackLevel = Fiber.current._callbackLevel - 1
          }
          return result
        }
      })(arguments[i])
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.toString" id="apidoc.element.synchronize.toString">
        function <span class="apidocSignatureSpan">synchronize.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.Fiber" id="apidoc.module.synchronize.Fiber">module synchronize.Fiber</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.Fiber.Fiber" id="apidoc.element.synchronize.Fiber.Fiber">
        function <span class="apidocSignatureSpan">synchronize.</span>Fiber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Fiber() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.yield" id="apidoc.element.synchronize.Fiber.yield">
        function <span class="apidocSignatureSpan">synchronize.Fiber.</span>yield
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">yield = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.Fiber.prototype" id="apidoc.module.synchronize.Fiber.prototype">module synchronize.Fiber.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.reset" id="apidoc.element.synchronize.Fiber.prototype.reset">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.run" id="apidoc.element.synchronize.Fiber.prototype.run">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.throwInto" id="apidoc.element.synchronize.Fiber.prototype.throwInto">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>throwInto
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function throwInto() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.Fiber.prototype.reset" id="apidoc.module.synchronize.Fiber.prototype.reset">module synchronize.Fiber.prototype.reset</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.reset.reset" id="apidoc.element.synchronize.Fiber.prototype.reset.reset">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function reset() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.Fiber.prototype.run" id="apidoc.module.synchronize.Fiber.prototype.run">module synchronize.Fiber.prototype.run</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.run.run" id="apidoc.element.synchronize.Fiber.prototype.run.run">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>run
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.Fiber.prototype.throwInto" id="apidoc.module.synchronize.Fiber.prototype.throwInto">module synchronize.Fiber.prototype.throwInto</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.Fiber.prototype.throwInto.throwInto" id="apidoc.element.synchronize.Fiber.prototype.throwInto.throwInto">
        function <span class="apidocSignatureSpan">synchronize.Fiber.prototype.</span>throwInto
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function throwInto() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.asyncIt" id="apidoc.module.synchronize.asyncIt">module synchronize.asyncIt</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.asyncIt.asyncIt" id="apidoc.element.synchronize.asyncIt.asyncIt">
        function <span class="apidocSignatureSpan">synchronize.</span>asyncIt
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asyncIt = function (cb){
  if(!cb) throw "no callback for async spec helper!"
  return function(done){sync.fiber(cb.bind(this), done)}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.await" id="apidoc.module.synchronize.await">module synchronize.await</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.await.await" id="apidoc.element.synchronize.await.await">
        function <span class="apidocSignatureSpan">synchronize.</span>await
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">await = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.defer" id="apidoc.module.synchronize.defer">module synchronize.defer</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.defer.defer" id="apidoc.element.synchronize.defer.defer">
        function <span class="apidocSignatureSpan">synchronize.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defer = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.deferParallel()
  else return sync.deferSerial()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.deferParallel" id="apidoc.module.synchronize.deferParallel">module synchronize.deferParallel</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.deferParallel.deferParallel" id="apidoc.element.synchronize.deferParallel.deferParallel">
        function <span class="apidocSignatureSpan">synchronize.</span>deferParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel

  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  // Returning asynchronous callback.
  return function(err, result){
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      if(fiber._syncIsTerminated) return
      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if(err){
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        data.returned += 1
        data.results[resultIndex] = result
        // Resuming fiber and returning result when all callbacks finished.
        if(data.returned == data.called) fiber.run(data.results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.deferSerial" id="apidoc.module.synchronize.deferSerial">module synchronize.deferSerial</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.deferSerial.deferSerial" id="apidoc.element.synchronize.deferSerial.deferSerial">
        function <span class="apidocSignatureSpan">synchronize.</span>deferSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferSerial = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true
  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err, result){
    if (called) throw new Error("defer can't be used twice!")
    called = true

    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if(err){
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        // Resuming fiber and returning result.
        fiber.run(result)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.deferWithTimeout" id="apidoc.module.synchronize.deferWithTimeout">module synchronize.deferWithTimeout</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.deferWithTimeout.deferWithTimeout" id="apidoc.element.synchronize.deferWithTimeout.deferWithTimeout">
        function <span class="apidocSignatureSpan">synchronize.</span>deferWithTimeout
        <span class="apidocSignatureSpan">(timeout, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferWithTimeout = function (timeout, message){
  if(!Fiber.current) throw new Error("no current Fiber, deferWithTimeout can't be used without Fiber!")
  if(!timeout) throw new Error("no timeout provided!")
  if(Fiber.current._syncParallel) throw new Error("deferWithTimeout can't be used in parallel!")

  var defer = this.defer()
  var error = new Error(message || "defer timed out!")
  var called = false
  var d = setTimeout(function(){
    if(called) return
    called = true
    defer(error)
  }, timeout)

  return function(){
    if(called) return
    called = true
    clearTimeout(d)
    return defer.apply(this, arguments)
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.defers" id="apidoc.module.synchronize.defers">module synchronize.defers</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.defers.defers" id="apidoc.element.synchronize.defers.defers">
        function <span class="apidocSignatureSpan">synchronize.</span>defers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defers = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.defersParallel.apply(sync, arguments)
  else return sync.defersSerial.apply(sync, arguments)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.defersParallel" id="apidoc.module.synchronize.defersParallel">module synchronize.defersParallel</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.defersParallel.defersParallel" id="apidoc.element.synchronize.defersParallel.defersParallel">
        function <span class="apidocSignatureSpan">synchronize.</span>defersParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel
  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  var kwds = Array.prototype.slice.call(arguments)
  // Returning asynchronous callback.
  return function(err) {
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      if(fiber._syncIsTerminated) return

      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if (err) {
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }
      var results;
      if(!kwds.length){
        results = args
      } else {
        results = {}
        kwds.forEach(function(kwd, i){
          results[kwd]=args[i]
        })
      }
      data.returned += 1
      data.results[resultIndex] = results
      if(data.returned == data.called) fiber.run(data.results)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.defersSerial" id="apidoc.module.synchronize.defersSerial">module synchronize.defersSerial</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.defersSerial.defersSerial" id="apidoc.element.synchronize.defersSerial.defersSerial">
        function <span class="apidocSignatureSpan">synchronize.</span>defersSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersSerial = function (){
  var fiber = Fiber.current;
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true

  var kwds = Array.prototype.slice.call(arguments)

  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err) {
    if (called) throw new Error("defer can't be used twice!")
    called = true
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if (err) {
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      } else {
        var results;
        if(!kwds.length){
          results = args
        } else {
          results = {}
          kwds.forEach(function(kwd, i){
            results[kwd]=args[i]
          })
        }
        fiber.run(results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.fiber" id="apidoc.module.synchronize.fiber">module synchronize.fiber</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.fiber.fiber" id="apidoc.element.synchronize.fiber.fiber">
        function <span class="apidocSignatureSpan">synchronize.</span>fiber
        <span class="apidocSignatureSpan">(cb, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fiber = function (cb, done){
  var that = this
  var fiber = Fiber(function(){
    // Prevent restart fiber
    if (Fiber.current._started) return
    if (done) {
      var result
      try {
        result = cb.call(that)
        Fiber.current._syncIsTerminated = true
      } catch (error){
        return done(error)
      }
      done(null, result)
    } else {
      // Don't catch errors if done not provided!
      cb.call(that)
      Fiber.current._syncIsTerminated = true
    }
  })
  fiber.run()
  fiber._started = true
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.parallel" id="apidoc.module.synchronize.parallel">module synchronize.parallel</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.parallel.parallel" id="apidoc.element.synchronize.parallel.parallel">
        function <span class="apidocSignatureSpan">synchronize.</span>parallel
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallel = function (cb){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")

  // Enabling `defer` calls to be performed in parallel.
  // There's an important note - error in any parallel call will result in aborting
  // all of the parallel calls.
  fiber._syncParallel = {called: 0, returned: 0, results: [], errorHasBeenThrown: false}
  try{
    cb.call(this)
  }finally{
    // If neither `defer` nor `defers` were called within the callback, we need
    // to run the fiber ourselves or else the fiber will unwind when `await` is called.
    // This might happen if the user intended to enumerate an array within the
    // callback, calling `defer` once per array item, but the array was empty.
    if (!fiber._syncParallel.called) {
      nextTick(function(){
        // Return an empty array to represent that there were no results.
        if(!fiber._syncIsTerminated) fiber.run([])
      })
    }
    delete fiber._syncParallel
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.sync" id="apidoc.module.synchronize.sync">module synchronize.sync</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.sync.sync" id="apidoc.element.synchronize.sync.sync">
        function <span class="apidocSignatureSpan">synchronize.</span>sync
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">sync = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      var fname = arguments[i]
      var fn = obj[fname]
      if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
      obj[fname] = sync(fn)
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.Fiber" id="apidoc.element.synchronize.sync.Fiber">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>Fiber
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Fiber() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.asyncIt" id="apidoc.element.synchronize.sync.asyncIt">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>asyncIt
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">asyncIt = function (cb){
  if(!cb) throw "no callback for async spec helper!"
  return function(done){sync.fiber(cb.bind(this), done)}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.await" id="apidoc.element.synchronize.sync.await">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>await
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">await = function () { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.defer" id="apidoc.element.synchronize.sync.defer">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>defer
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defer = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.deferParallel()
  else return sync.deferSerial()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.deferParallel" id="apidoc.element.synchronize.sync.deferParallel">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>deferParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel

  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  // Returning asynchronous callback.
  return function(err, result){
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      if(fiber._syncIsTerminated) return
      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if(err){
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        data.returned += 1
        data.results[resultIndex] = result
        // Resuming fiber and returning result when all callbacks finished.
        if(data.returned == data.called) fiber.run(data.results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.deferSerial" id="apidoc.element.synchronize.sync.deferSerial">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>deferSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferSerial = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true
  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err, result){
    if (called) throw new Error("defer can't be used twice!")
    called = true

    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if(err){
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }else{
        // Resuming fiber and returning result.
        fiber.run(result)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.deferWithTimeout" id="apidoc.element.synchronize.sync.deferWithTimeout">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>deferWithTimeout
        <span class="apidocSignatureSpan">(timeout, message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deferWithTimeout = function (timeout, message){
  if(!Fiber.current) throw new Error("no current Fiber, deferWithTimeout can't be used without Fiber!")
  if(!timeout) throw new Error("no timeout provided!")
  if(Fiber.current._syncParallel) throw new Error("deferWithTimeout can't be used in parallel!")

  var defer = this.defer()
  var error = new Error(message || "defer timed out!")
  var called = false
  var d = setTimeout(function(){
    if(called) return
    called = true
    defer(error)
  }, timeout)

  return function(){
    if(called) return
    called = true
    clearTimeout(d)
    return defer.apply(this, arguments)
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.defers" id="apidoc.element.synchronize.sync.defers">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>defers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defers = function (){
  if(!Fiber.current) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(Fiber.current._syncParallel) return sync.defersParallel.apply(sync, arguments)
  else return sync.defersSerial.apply(sync, arguments)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.defersParallel" id="apidoc.element.synchronize.sync.defersParallel">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>defersParallel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersParallel = function (){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  if(!fiber._syncParallel) throw new Error("invalid usage, should be called in parallel mode!")
  var data = fiber._syncParallel
  // Counting amount of `defer` calls.
  data.called += 1
  var resultIndex = data.called - 1

  var kwds = Array.prototype.slice.call(arguments)
  // Returning asynchronous callback.
  return function(err) {
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      if(fiber._syncIsTerminated) return

      // Error in any of parallel call will result in aborting all of the calls.
      if(data.errorHasBeenThrown) return
      if (err) {
        data.errorHasBeenThrown = true
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      }
      var results;
      if(!kwds.length){
        results = args
      } else {
        results = {}
        kwds.forEach(function(kwd, i){
          results[kwd]=args[i]
        })
      }
      data.returned += 1
      data.results[resultIndex] = results
      if(data.returned == data.called) fiber.run(data.results)
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.defersSerial" id="apidoc.element.synchronize.sync.defersSerial">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>defersSerial
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">defersSerial = function (){
  var fiber = Fiber.current;
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")
  // if(fiber._defered) throw new Error("invalid usage, should be clear previous defer!")
  // fiber._defered = true

  var kwds = Array.prototype.slice.call(arguments)

  // Prevent recursive call
  var called = false
  // Returning asynchronous callback.
  return function(err) {
    if (called) throw new Error("defer can't be used twice!")
    called = true
    // Wrapping in nextTick as a safe measure against not asynchronous usage.
    var args = Array.prototype.slice.call(arguments, 1)
    nextTick(function(){
      // fiber._defered = false
      if(fiber._syncIsTerminated) return
      if (err) {
        // Resuming fiber and throwing error.
        fiber.throwInto(err)
      } else {
        var results;
        if(!kwds.length){
          results = args
        } else {
          results = {}
          kwds.forEach(function(kwd, i){
            results[kwd]=args[i]
          })
        }
        fiber.run(results)
      }
    })
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.fiber" id="apidoc.element.synchronize.sync.fiber">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>fiber
        <span class="apidocSignatureSpan">(cb, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fiber = function (cb, done){
  var that = this
  var fiber = Fiber(function(){
    // Prevent restart fiber
    if (Fiber.current._started) return
    if (done) {
      var result
      try {
        result = cb.call(that)
        Fiber.current._syncIsTerminated = true
      } catch (error){
        return done(error)
      }
      done(null, result)
    } else {
      // Don't catch errors if done not provided!
      cb.call(that)
      Fiber.current._syncIsTerminated = true
    }
  })
  fiber.run()
  fiber._started = true
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.parallel" id="apidoc.element.synchronize.sync.parallel">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>parallel
        <span class="apidocSignatureSpan">(cb)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parallel = function (cb){
  var fiber = Fiber.current
  if(!fiber) throw new Error("no current Fiber, defer can't be used without Fiber!")

  // Enabling `defer` calls to be performed in parallel.
  // There's an important note - error in any parallel call will result in aborting
  // all of the parallel calls.
  fiber._syncParallel = {called: 0, returned: 0, results: [], errorHasBeenThrown: false}
  try{
    cb.call(this)
  }finally{
    // If neither `defer` nor `defers` were called within the callback, we need
    // to run the fiber ourselves or else the fiber will unwind when `await` is called.
    // This might happen if the user intended to enumerate an array within the
    // callback, calling `defer` once per array item, but the array was empty.
    if (!fiber._syncParallel.called) {
      nextTick(function(){
        // Return an empty array to represent that there were no results.
        if(!fiber._syncIsTerminated) fiber.run([])
      })
    }
    delete fiber._syncParallel
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.syncFn" id="apidoc.element.synchronize.sync.syncFn">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>syncFn
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncFn = function (fn){
  // Preventing function to be synchronized twice.
  if(fn._synchronized) return fn

  var syncFn = function(){
    // Using fibers only if there's active fiber and callback not provided explicitly.
    if(Fiber.current &amp;&amp; (typeof arguments[arguments.length-1] !== 'function')){
      // Calling asynchronous function with our special fiber-aware callback.
      Array.prototype.push.call(arguments, sync.defer())
      fn.apply(this, arguments)

      // Waiting for asynchronous result.
      return sync.await()
    }else{
      // If there's no active fiber or callback provided explicitly we call original version.
      return fn.apply(this, arguments)
    }
  }

  // Marking function as synchronized.
  syncFn._synchronized = true

  return syncFn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.synchronize.sync.syncWithDebug" id="apidoc.element.synchronize.sync.syncWithDebug">
        function <span class="apidocSignatureSpan">synchronize.sync.</span>syncWithDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncWithDebug = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      (function(fname){
        var fn = obj[fname]
        if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
        var syncedFn = sync(fn)
        obj[fname] = function(){
          if(Fiber.current &amp;&amp; Fiber.current._fiberId === undefined){
            Fiber.current._fiberId = fiberIdCounter
            fiberIdCounter = fiberIdCounter + 1
            Fiber.current._callbackLevel = 0
          }

          var fiberId = '-'
          if(Fiber.current){
            fiberId = Fiber.current._fiberId
            Fiber.current._callbackLevel = Fiber.current._callbackLevel + 1
          }

          var indent = '    '
          if(Fiber.current)
            for(var j = 0; j &lt; Fiber.current._callbackLevel; j++) indent = indent + '  '

          console.log(fiberId + indent + this.constructor.name + '.' +
          fname + " called", JSON.stringify(arguments))

          var result
          try{
            result = syncedFn.apply(this, arguments)
          }finally{
            console.log(fiberId + indent + this.constructor.name + '.' +
            fname + " finished")

            if(Fiber.current)
              Fiber.current._callbackLevel = Fiber.current._callbackLevel - 1
          }
          return result
        }
      })(arguments[i])
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.syncFn" id="apidoc.module.synchronize.syncFn">module synchronize.syncFn</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.syncFn.syncFn" id="apidoc.element.synchronize.syncFn.syncFn">
        function <span class="apidocSignatureSpan">synchronize.</span>syncFn
        <span class="apidocSignatureSpan">(fn)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncFn = function (fn){
  // Preventing function to be synchronized twice.
  if(fn._synchronized) return fn

  var syncFn = function(){
    // Using fibers only if there's active fiber and callback not provided explicitly.
    if(Fiber.current &amp;&amp; (typeof arguments[arguments.length-1] !== 'function')){
      // Calling asynchronous function with our special fiber-aware callback.
      Array.prototype.push.call(arguments, sync.defer())
      fn.apply(this, arguments)

      // Waiting for asynchronous result.
      return sync.await()
    }else{
      // If there's no active fiber or callback provided explicitly we call original version.
      return fn.apply(this, arguments)
    }
  }

  // Marking function as synchronized.
  syncFn._synchronized = true

  return syncFn
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.syncWithDebug" id="apidoc.module.synchronize.syncWithDebug">module synchronize.syncWithDebug</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.syncWithDebug.syncWithDebug" id="apidoc.element.synchronize.syncWithDebug.syncWithDebug">
        function <span class="apidocSignatureSpan">synchronize.</span>syncWithDebug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">syncWithDebug = function (){
  if(arguments.length &gt; 1){
    // Synchronizing functions of object.
    var obj = arguments[0]
    for(var i = 1; i &lt; arguments.length; i++){
      (function(fname){
        var fn = obj[fname]
        if(!fn) throw new Error("object doesn't have '" + fname + "' function!")
        var syncedFn = sync(fn)
        obj[fname] = function(){
          if(Fiber.current &amp;&amp; Fiber.current._fiberId === undefined){
            Fiber.current._fiberId = fiberIdCounter
            fiberIdCounter = fiberIdCounter + 1
            Fiber.current._callbackLevel = 0
          }

          var fiberId = '-'
          if(Fiber.current){
            fiberId = Fiber.current._fiberId
            Fiber.current._callbackLevel = Fiber.current._callbackLevel + 1
          }

          var indent = '    '
          if(Fiber.current)
            for(var j = 0; j &lt; Fiber.current._callbackLevel; j++) indent = indent + '  '

          console.log(fiberId + indent + this.constructor.name + '.' +
          fname + " called", JSON.stringify(arguments))

          var result
          try{
            result = syncedFn.apply(this, arguments)
          }finally{
            console.log(fiberId + indent + this.constructor.name + '.' +
            fname + " finished")

            if(Fiber.current)
              Fiber.current._callbackLevel = Fiber.current._callbackLevel - 1
          }
          return result
        }
      })(arguments[i])
    }
  }else{
    return sync.syncFn(arguments[0])
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.synchronize.toString" id="apidoc.module.synchronize.toString">module synchronize.toString</a></h1>


    <h2>
        <a href="#apidoc.element.synchronize.toString.toString" id="apidoc.element.synchronize.toString.toString">
        function <span class="apidocSignatureSpan">synchronize.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>